{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/GalleryItem/GalleryItem.js","Services/api.js","Components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","handleQuery","className","onSubmit","type","autoComplete","autoFocus","placeholder","id","GalleryItem","image","onClick","openModal","src","webformatURL","alt","closeModalWithEscape","e","key","modalInstance","close","closeModal","basicLightbox","largeImageURL","closable","onShow","document","addEventListener","setTimeout","querySelector","onClose","removeEventListener","show","axios","defaults","baseURL","params","image_type","orientation","per_page","getImages","q","a","page","get","data","hits","console","log","error","ImageGallery","query","useState","isLoading","setIsLoading","setPage","images","setImages","useEffect","then","newImages","prevImages","window","scrollTo","top","documentElement","scrollHeight","behavior","catch","color","height","width","timeout","length","map","shortid","generate","preventDefault","prevPage","App","setQuery","target","value","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d00c726c.chunk.js","sourcesContent":["export default function Searchbar({ handleQuery }) {\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleQuery}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          id=\"q\"\n        />\n      </form>\n    </header>\n  );\n}\n","import * as basicLightbox from \"basiclightbox\";\n\nexport default function GalleryItem({ image }) {\n  return (\n    <img\n      onClick={() => openModal(image)}\n      src={image.webformatURL}\n      alt=\"\"\n      className=\"ImageGalleryItem-image\"\n    />\n  );\n}\n\nconst openModal = (image) => {\n  const closeModalWithEscape = (e) => {\n    if (e.key === \"Escape\") modalInstance.close();\n  };\n  const closeModal = () => {\n    modalInstance.close();\n  };\n\n  let modalInstance = basicLightbox.create(\n    `\n        <div class=\"Overlay\">\n          <div class=\"Modal\">\n              <img src=${image.largeImageURL} alt=\"\" />\n          </div>\n      </div>\n      `,\n    {\n      closable: true,\n      onShow: () => {\n        //add listeners\n        document.addEventListener(\"keydown\", closeModalWithEscape);\n        setTimeout(() => {\n          document\n            .querySelector(\".Overlay\")\n            .addEventListener(\"click\", closeModal);\n        }, 500);\n      },\n      onClose: () => {\n        document.removeEventListener(\"keydown\", closeModalWithEscape);\n        document\n          .querySelector(\".Overlay\")\n          .removeEventListener(\"click\", closeModal);\n      },\n    }\n  );\n  modalInstance.show();\n};\n","import axios from \"axios\";\nconst API_KEY = \"21742684-2124d89228f195892f61b714b\";\nconst BASE_URL = \"https://pixabay.com/api\";\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  per_page: 12,\n};\n\nconst getImages = async (q, page = 1) => {\n  try {\n    const { data } = await axios.get(\"/\", { params: { q, page } });\n    return data.hits;\n  } catch (error) {\n    console.log(\"error\", { error });\n    return [];\n  }\n};\n\nexport default getImages;\n","import { useEffect, useState } from \"react\";\nimport GalleryItem from \"../GalleryItem/GalleryItem\";\nimport Loader from \"react-loader-spinner\";\nimport shortid from \"shortid\";\nimport getImages from \"../../Services/api\";\n\nexport default function ImageGallery({ query }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n\n  useEffect(() => {\n    setImages([]);\n  }, [query]);\n\n  useEffect(() => {\n    if (!query) return;\n    setIsLoading(true);\n    getImages(query, page)\n      .then((newImages) => {\n        setImages((prevImages) => [...prevImages, ...newImages]);\n        setIsLoading(false);\n      })\n      .then(() => {\n        if (page === 1) return;\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch(console.log);\n  }, [page, query]);\n\n  const loadMore = (e) => {\n    e.preventDefault();\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  return (\n    <section>\n      {isLoading ? (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      ) : images.length ? (\n        <section>\n          <ul className=\"ImageGallery\">\n            {images.map((image) => (\n              <li key={shortid.generate()} className=\"ImageGalleryItem\">\n                <GalleryItem image={image} />\n              </li>\n            ))}\n          </ul>\n          <button className=\"Button\" type=\"submit\" onClick={loadMore}>\n            Load more\n          </button>\n        </section>\n      ) : (\n        <h3>Please, enter keyword of the image to find</h3>\n      )}\n    </section>\n  );\n}\n","import \"./App.css\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport { useState } from \"react\";\n\nexport default function App() {\n  const [query, setQuery] = useState(\"\");\n  const handleQuery = (e) => {\n    e.preventDefault();\n    setQuery(e.target.q.value);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar handleQuery={handleQuery} />\n      <ImageGallery query={query} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}